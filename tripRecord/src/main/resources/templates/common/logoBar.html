<!DOCTYPE html>
<html xmlns:th='http://ww.thymeleaf.org' th:fragment="logoBar">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	crossorigin="anonymous">
<link
	href="https://hangeul.pstatic.net/hangeul_static/css/nanum-barun-gothic.css"
	rel="stylesheet">
<style>
.memberLink {
	color: black;
	text-decoration: none;
}
.memberLink:hover{
	cursor: pointer;
	border-bottom: 1px solid black;
}
body {
	font-family: 'NanumBarunGothic';
	margin: 0px;
	cursor: url(/image/plane.png), auto;
}

#headerLogo {
	width: 134px;
	height: 57px;
}

#loginUserName {
	font-weight: bold;
	font-size: 1.3em;
}
</style>

<!-- **필수** 부트스트랩 : 상단 태그 **필수** -->
<meta name="viewport" content="width=device-width, initial-scale=1">


</head>
<body>
	<div class="row container-fluid" style='margin: 20px 0px;'>
		<div class="col-4 text-start" style='padding-left: 30px;'>
			<div class="btn-group">
				<button type="button" class="btn dropdown-toggle"
					data-bs-toggle="dropdown" aria-expanded="false">고객센터</button>
				<ul class="dropdown-menu">
					<li><a class="dropdown-item" href="ask.no">문의사항</a></li>
					<li><a class="dropdown-item" href="notice.no">공지사항</a></li>
				</ul>
			</div>
		</div>
		<div class="col-4 text-center">
			<a href="home"> <img alt="logo" src="image/Logo-skyblue.png"
				id='headerLogo'>
			</a>
		</div>

		<!-- 로그인 유무에 따라 변경 -->
		<div class="col-4 text-end" th:if="${ session.loginUser == null }">
			<a href="enrollView.me" class="memberLink">회원가입</a>
			&nbsp;&nbsp;|&nbsp;&nbsp; <a href="loginView.me" class="memberLink">로그인</a>&nbsp;&nbsp;&nbsp;&nbsp;
		</div>
		<div class="col-4 text-end"
			th:if="${ session.loginUser != null and session.loginUser.grade == 'GENERAL' }">
			<a href="myPage.mp" class="memberLink">마이페이지</a> &nbsp;&nbsp;|&nbsp;&nbsp; 
			<a href="logout.me" class="memberLink">로그아웃</a>&nbsp;&nbsp;&nbsp;&nbsp;
		</div>
		<div class="col-4 text-end"
			th:if="${ session.loginUser != null and session.loginUser.grade == 'PLANNER' }">
			<a href="myPage.mp" class="memberLink">마이페이지</a> &nbsp;&nbsp;|&nbsp;&nbsp; 
			<a href="plannerPage.mp" class="memberLink">플래너페이지</a> &nbsp;&nbsp;|&nbsp;&nbsp; 
			<a href="logout.me" class="memberLink">로그아웃</a>&nbsp;&nbsp;&nbsp;&nbsp;
		</div>
		<div class="col-4 text-end"
			th:if="${ session.loginUser != null and session.loginUser.grade == 'ADMIN' }">
			<a href="myPage.mp" class="memberLink">마이페이지</a> &nbsp;&nbsp;|&nbsp;&nbsp;
			<a href="dashBoard.ad" class="memberLink">관리자페이지</a> &nbsp;&nbsp;|&nbsp;&nbsp; 
			<a href="logout.me" class="memberLink">로그아웃</a>&nbsp;&nbsp;&nbsp;&nbsp;
		</div>
	</div>
	
	
	
	<!-- 삭제 모달 -->
	<div class="modal fade" tabindex="-1" role="dialog" id="plannerModal">
		<div class="modal-dialog" role="document">
    		<div class="modal-content rounded-3 shadow">
      			<div class="modal-body p-4 text-center">
        			<h3 class="mb-0" id="okCheck"></h3>
        			<p class="mb-0"></p>
      			</div>
      			<div class="modal-footer flex-nowrap p-0" style="justify-content:center;">
        			<button type="button" class="btn btn-lg btn-link fs-6 text-decoration-none col-6 m-0 rounded-0" id="OK">
        				<strong>알겠습니다</strong>
        			</button>
      			</div>
    		</div>
  		</div>
	</div>
	<!-- 삭제 모달 -->
	
	
	
	
	
	
	<script th:inline="javascript">
		let msg = /*[[${session.notification}]]*/ 'null';
		if(msg !== 'null' && msg !== null && msg !== ''){
			
			sessionStorage.setItem("noti", msg);
			//alert(sessionStorage.getItem("noti"));
		    
// 		    sessionStorage.removeItem("notification");
		    msg = '';
		}
		//$('#plannerModal').modal('show');
		window.addEventListener('DOMContentLoaded',(e)=>{
			let noti = sessionStorage.getItem("noti");
			document.getElementById("okCheck").innerText = noti;
			if(noti != null){
				$('#plannerModal').modal('show');
				document.getElementById("OK").addEventListener('click',()=>{
			    	// ok 버튼을 누르면 세션 삭제
					sessionStorage.removeItem("noti");
			    	$('#plannerModal').modal('hide');
				});
			}
		});
		
	</script>
	
</body>
</html>